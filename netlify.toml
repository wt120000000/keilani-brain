[build]
  command = "npm run build"
  publish = "public"

[functions]
  node_bundler = "esbuild"
  # optional but recommended to force Node 20 runtime
  external_node_modules = []
  node_version = "20"

[[redirects]]
  from = "/api/chat"
  to = "/.netlify/functions/chat"
  status = 200

[[redirects]]
  from = "/api/ingest"
  to = "/.netlify/functions/ingest"
  status = 200

# If you embed from Framer, these headers help frames work:
[[headers]]
  for = "/embed/*"
  [headers.values]
    X-Frame-Options = "ALLOWALL"
    Content-Security-Policy = "frame-ancestors https://*.framer.app https://keilani.ai https://www.keilani.ai 'self';"
