<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Stream Test</title>
  </head>
  <body style="font-family: system-ui; padding: 20px">
    <h1>Stream Test</h1>
    <button id="go">Stream</button>
    <pre id="out"></pre>
    <script type="module">
      import { streamChat } from "/js/streamClient.js";
      const out = document.getElementById("out");
      document.getElementById("go").onclick = () => {
        out.textContent = "";
        streamChat("Say hello in 5 words.", {
          model: "gpt-4.1-mini",
          onToken: (t) => {
            out.textContent += t;
          },
          onDone: () => {
            out.textContent += "\n\nâœ“ done";
          },
          onError: (e) => {
            out.textContent += "\nERR: " + e.message;
          },
        });
      };
    </script>
  </body>
</html>
